{"ast":null,"code":"var _jsxFileName = \"C:\\\\workspace\\\\brkim\\\\frontend\\\\bookstore\\\\src\\\\JoinJP.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, Button, Alert } from 'react-native';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst zipcloudURL = 'https://zipcloud.ibsnet.co.jp/api/search';\nconst JoinJP = () => {\n  _s();\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#fff',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    description: {\n      fontSize: 18,\n      color: '#666666',\n      paddingBottom: 10\n    },\n    inputPostalCode: {\n      textAlignVertical: 'center',\n      width: 120,\n      fontSize: 24,\n      marginBottom: 10,\n      paddingLeft: 5,\n      borderWidth: 1,\n      borderColor: 'rgba(0, 0, 0, 0.2)'\n    },\n    addressContainer: {\n      paddingVertical: 10,\n      width: 280\n    },\n    addressLabel: {\n      paddingBottom: 10\n    },\n    addressLabelText: {\n      fontSize: 18,\n      color: '#666666'\n    },\n    address: {\n      paddingLeft: 5\n    },\n    addressText: {\n      fontSize: 16,\n      color: '#000000'\n    }\n  });\n\n  // 郵便番号を保存しておくstate\n  const [postalCode, setPostalCode] = useState('');\n  const [address, setAddress] = useState('');\n\n  // axiosのGETメソッドを使った住所検索\n  const fetchAddress = async () => {\n    try {\n      const response = await axios.get(`${zipcloudURL}?zipcode=${postalCode}`);\n      const data = response.data;\n      if (!data.results) {\n        return '該当する住所はありませんでした。';\n      }\n      switch (data.status) {\n        case 200:\n          // 今回はテストなので、同じ郵便番号で2件以上存在する場合は除きます\n          return `${data.results[0].address1}${data.results[0].address2}${data.results[0].address3}`;\n        case 400:\n          return data.message;\n        case 500:\n          return data.message;\n      }\n    } catch (error) {\n      return '検索失敗';\n    }\n  };\n\n  // 送信ボタンを押した時に実行される関数\n  async function handlePress() {\n    // 7桁の数字を正規表現で置きます\n    const pattern = /^[0-9]{7}$/;\n    if (pattern.test(postalCode)) {\n      const address = await fetchAddress();\n      setAddress(address);\n    } else {\n      // 想定していない文字列の場合\n      Alert.alert('正しい郵便番号ではありません', 'もう一度入力してください');\n    }\n  }\n\n  // アプリに描画する内容\n  return /*#__PURE__*/_jsxDEV(View, {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      style: styles.description,\n      children: [\"\\u90F5\\u4FBF\\u756A\\u53F7\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\", \"\\n\", \"(\\u30CF\\u30A4\\u30D5\\u30F3\\u306A\\u30577\\u6841)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      value: postalCode,\n      style: styles.inputPostalCode,\n      onChangeText: text => {\n        setPostalCode(text);\n      },\n      maxLength: 7,\n      keyboardType: \"numeric\",\n      placeholder: \"郵便番号\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      title: \"\\u9001\\u4FE1\",\n      color: \"#AAAAAA\",\n      onPress: handlePress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }, this), address.length > 0 && /*#__PURE__*/_jsxDEV(View, {\n      style: styles.addressContainer,\n      children: [/*#__PURE__*/_jsxDEV(View, {\n        style: styles.addressLabel,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          style: styles.addressLabelText,\n          children: \"\\u4F4F\\u6240\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(View, {\n        style: styles.address,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          style: styles.addressText,\n          children: address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 3\n  }, this);\n};\n_s(JoinJP, \"JKqop6DM/Q56OQv+jdtYKmE6O5s=\");\n_c = JoinJP;\nexport default JoinJP;\nvar _c;\n$RefreshReg$(_c, \"JoinJP\");","map":{"version":3,"names":["React","useState","StyleSheet","Text","View","TextInput","Button","Alert","axios","jsxDEV","_jsxDEV","zipcloudURL","JoinJP","_s","styles","create","container","flex","backgroundColor","alignItems","justifyContent","description","fontSize","color","paddingBottom","inputPostalCode","textAlignVertical","width","marginBottom","paddingLeft","borderWidth","borderColor","addressContainer","paddingVertical","addressLabel","addressLabelText","address","addressText","postalCode","setPostalCode","setAddress","fetchAddress","response","get","data","results","status","address1","address2","address3","message","error","handlePress","pattern","test","alert","style","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChangeText","text","maxLength","keyboardType","placeholder","title","onPress","length","_c","$RefreshReg$"],"sources":["C:/workspace/brkim/frontend/bookstore/src/JoinJP.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Button, Alert } from 'react-native';\r\nimport axios from 'axios';\r\n\r\nconst zipcloudURL = 'https://zipcloud.ibsnet.co.jp/api/search';\r\n\r\n\r\nconst JoinJP = () => {\r\n\r\n\r\n\r\n    const styles = StyleSheet.create({\r\n        container: {\r\n          flex: 1,\r\n          backgroundColor: '#fff',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        },\r\n        description: {\r\n          fontSize: 18,\r\n          color: '#666666',\r\n          paddingBottom: 10,\r\n        },\r\n        inputPostalCode: {\r\n          textAlignVertical: 'center',\r\n          width: 120,\r\n          fontSize: 24,\r\n          marginBottom: 10,\r\n          paddingLeft: 5,\r\n          borderWidth: 1,\r\n          borderColor: 'rgba(0, 0, 0, 0.2)',\r\n        },\r\n        addressContainer: {\r\n          paddingVertical: 10,\r\n          width: 280,\r\n        },\r\n        addressLabel: {\r\n          paddingBottom: 10,\r\n        },\r\n        addressLabelText: {\r\n          fontSize: 18,\r\n          color: '#666666',\r\n        },\r\n        address: {\r\n          paddingLeft: 5,\r\n        },\r\n        addressText: {\r\n          fontSize: 16,\r\n          color: '#000000',\r\n        },\r\n      });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// 郵便番号を保存しておくstate\r\nconst [postalCode, setPostalCode] = useState('');\r\nconst [address, setAddress] = useState('');\r\n\r\n// axiosのGETメソッドを使った住所検索\r\nconst fetchAddress = async () => {\r\n  try {\r\n    const response = await axios.get(`${zipcloudURL}?zipcode=${postalCode}`);\r\n    const data = response.data;\r\n    if ( !data.results ) {\r\n      return '該当する住所はありませんでした。'\r\n    }\r\n    switch (data.status) {\r\n      case 200:\r\n        // 今回はテストなので、同じ郵便番号で2件以上存在する場合は除きます\r\n        return `${data.results[0].address1}${data.results[0].address2}${data.results[0].address3}`;\r\n      case 400:\r\n        return data.message;\r\n      case 500:\r\n        return data.message;\r\n    }\r\n  } catch (error) {\r\n     return '検索失敗';\r\n  }\r\n}\r\n\r\n// 送信ボタンを押した時に実行される関数\r\nasync function handlePress() {\r\n  // 7桁の数字を正規表現で置きます\r\n  const pattern = /^[0-9]{7}$/;\r\n  if (pattern.test(postalCode)){\r\n    const address = await fetchAddress();\r\n    setAddress(address);\r\n  } else {\r\n    // 想定していない文字列の場合\r\n    Alert.alert('正しい郵便番号ではありません', 'もう一度入力してください');\r\n  }\r\n}\r\n\r\n// アプリに描画する内容\r\nreturn (\r\n  <View style={styles.container}>\r\n    <Text style={styles.description}>郵便番号を入力してください{\"\\n\"}(ハイフンなし7桁)</Text>\r\n    <TextInput\r\n      value={postalCode}\r\n      style={styles.inputPostalCode}\r\n      onChangeText={(text) =>{\r\n        setPostalCode(text);\r\n      }}\r\n      maxLength={7}\r\n      keyboardType={\"numeric\"}\r\n      placeholder={\"郵便番号\"}\r\n    />\r\n    <Button\r\n      title=\"送信\"\r\n      color=\"#AAAAAA\"\r\n      onPress={handlePress}\r\n    />\r\n    {address.length > 0 && (\r\n      <View style={styles.addressContainer}>\r\n        <View style={styles.addressLabel}>\r\n          <Text style={styles.addressLabelText}>住所</Text>\r\n        </View>\r\n        <View style={styles.address}>\r\n          <Text style={styles.addressText}>{address}</Text>\r\n        </View>\r\n      </View>\r\n    )}\r\n  </View>\r\n);\r\n}\r\n\r\nexport default JoinJP;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}